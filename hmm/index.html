<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="index.css">
    <title>HMM demo</title>
</head>
<body>
  <p>See <a href="https://github.com/mtholder/urn_demo" target="_blank">this repository</a> for
      instructions on generating the data with dice.
  Click on a <button>⚄</button> below to randomize the variable close to it.</p>
  <div class="simgroup">
      <h3>Specify model parameters</h3>
      <button class="btn-rand-switch" onclick="randomize_s()">⚄</button>
      <label>
          <select id="choose-switch" style="width: 4em" onchange="changed_s()">
              <option value="0.25">0.25</option>
              <option value="0.5" selected="selected">0.5</option>
              <option value="0.75">0.75</option>
          </select>
          <i>s</i>, the probability of randomly selecting an urn to choose from.
      </label>
      <br />
      <button class="btn-rand-contamination" onclick="randomize_c()">⚄</button>
      <label>
          <select id="choose-contamination" style="width: 4em" onchange="changed_c()">
              <option value="1">1</option>
              <option value="2" selected="selected">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
          </select>
          <i>c</i>, number of beads with color chosen at random.
      </label>

      <h3>Urn composition</h3>
      <table>
          <tr>
              <td></td>
              <td></td>
              <td>&nbsp;&nbsp;#&nbsp;&nbsp;</td>
              <td>&nbsp;&nbsp;#&nbsp;&nbsp;</td>
          </tr>
          <tr>
              <td></td>
              <td></td>
              <td><button class="button0"></button></td>
              <td><button class="button1"></button></td>
              <td>&nbsp;&nbsp;</td>
              <td><button class="buttonr" id="randbtn0b0" onclick="rand_bead(0,0)">⚄</button><span id="locks0" style="display:none">&nbsp;🔒&nbsp;</span></td>
              <td><button class="buttonr" id="randbtn0b1" onclick="rand_bead(0,1)">⚄</button><span id="locks1" style="display:none">&nbsp;&nbsp;🔒&nbsp;&nbsp;</span></td>
              <td><button class="buttonr" id="randbtn0b2" onclick="rand_bead(0,2)">⚄</button><span id="locks2" style="display:none">&nbsp;&nbsp;🔒&nbsp;&nbsp;</span></td>
              <td><button class="buttonr" id="randbtn0b3" onclick="rand_bead(0,3)">⚄</button><span id="locks3" style="display:none">&nbsp;&nbsp;🔒&nbsp;&nbsp;</span></td>
              <td>🔒</td>
              <td>🔒</td>
              <td>🔒</td>
              <td>🔒</td>
          </tr>
          <tr>
              <td><button class="buttonr" onclick="rand_urn(0)">⚄</button></td>
              <td>Urn 1:</td>
              <td id="num0in0"></td>
              <td id="num1in0"></td>
              <td></td>
              <td><button class="button0" id="btnu0b0" onclick="toggle_bead(0,0)"></button></td>
              <td><button class="button0" id="btnu0b1" onclick="toggle_bead(0,1)"></button></td>
              <td><button class="button0" id="btnu0b2" onclick="toggle_bead(0,2)"></button></td>
              <td><button class="button0" id="btnu0b3" onclick="toggle_bead(0,3)"></button></td>
              <td><button class="button0" disbled></button></td>
              <td><button class="button0" disbled></button></td>
              <td><button class="button0" disbled></button></td>
              <td><button class="button0" disbled></button></td>
              <td></td>
          </tr>
          <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td><button class="buttonr" id="randbtn1b0" onclick="rand_bead(1,0)">⚄</button></td>
              <td><button class="buttonr" id="randbtn1b1" onclick="rand_bead(1,1)">⚄</button></td>
              <td><button class="buttonr" id="randbtn1b2" onclick="rand_bead(1,2)">⚄</button></td>
              <td><button class="buttonr" id="randbtn1b3" onclick="rand_bead(1,3)">⚄</button></td>
              <td></td>
          </tr>
          <tr>
              <td><button class="buttonr" onclick="rand_urn(1)">⚄</button></td>
              <td>Urn 2:</td>
              <td id="num0in1"></td>
              <td id="num1in1"></td>
              <td></td>
              <td><button class="button1" id="btnu1b0" onclick="toggle_bead(1,0)"></button></td>
              <td><button class="button1" id="btnu1b1" onclick="toggle_bead(1,1)"></button></td>
              <td><button class="button1" id="btnu1b2" onclick="toggle_bead(1,2)"></button></td>
              <td><button class="button1" id="btnu1b3" onclick="toggle_bead(1,3)"></button></td>
              <td><button class="button1" disbled></button></td>
              <td><button class="button1" disbled></button></td>
              <td><button class="button1" disbled></button></td>
              <td><button class="button1" disbled></button></td>
          </tr>

      </table>
      <!--h3>Simulation:</h3>
      <div class="swprob">
          <span>True color switch probability = </span>
          <span id="value-switch-prob"></span><br/>
          <span id="switch-prob-slider"></span>
      </div>
      <div class="numobs">
          <span># samples per button click: </span>
          <br/>
          <span id="num-obs-slider"></span>
      </div>
      <div>
          <span>Simulate:</span>
          &nbsp;&nbsp;&nbsp;<button class="clearbtn">Clear</button>
          &nbsp;&nbsp;&nbsp;<button class="simbtn">Draw next <span id="btn-num-obs"></span> sample(s)</button>
      </div>
      <div><span>Simulated data (<i>n = </i></span> <span id="samplesize">0</span>):</div>
      <div class="drawcont"></div-->
  </div>
  <!--div class="inference">
      <h3>Inferential stats:</h3>
      <table>
          <tr><td><i>n - 1 = </i><span id="value-ntransitions">0</span></td>
              <td># observed transitions</td>
          </tr>
          <tr><td><i>n<sub>d</sub> = </i><span id="value-ndiffs">0</span></td>
              <td>number of color changes</td>
          </tr>
          <tr><td><i>n<sub>s</sub> = </i><span id="value-nsame">0</span></td>
              <td># adjacent samples with same color</td>
          </tr>
          <tr><td><i>ŝ = </i><span id="value-estimate-of-s">?</span></td>
              <td>estimate of the switch probability</td>
          </tr>
      </table>
      <p><b id="tracetitle">Ln Likelihood</b>
         <button id="logtransform">Move to probability scale</button>
      </p>
      <div id="likelihood-trace-div"></div>
  </div-->

    <script src="../d3/d3.v5.min.js"></script>
    <script src="../d3-simple-slider/d3-simple-slider.js"></script>
    <script src="../jquery/jquery-3.4.1.js"></script>
    <script src="hmm.js"></script>
</body>


<div class="footer">
    <h4></h4>
    <p>Back to the demo <a href="../index.html">table of contents...</a></p>
    <p> Source code at <a href="https://github.com/mtholder/mephytis">https://github.com/mtholder/mephytis</a></p>

</div>
</html>
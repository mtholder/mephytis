<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="index.css">
    <title>HMM demo</title>
</head>
<body>
  <p>See <a href="https://github.com/mtholder/urn_demo" target="_blank">this repository</a> for
      instructions on generating the data with dice.
  Click on a <img class="diceimg" src="../image/dice.png"></img> below to randomize the variable close to it.</p>
    <div class="column">
      <div class="simgroup">
      <h3>Specify model parameters:</h3>
      <img class="diceimg" src="../image/dice.png" onclick="randomize_s()"></img>
      <label>
          <select id="choose-switch" style="width: 4em" onchange="changed_s()">
              <option value="0.25">0.25</option>
              <option value="0.5" selected="selected">0.5</option>
              <option value="0.75">0.75</option>
          </select>
          <i>s</i>, probability of randomly selecting an urn.
      </label>
      <br />
      <img class="diceimg" src="../image/dice.png" onclick="randomize_c()"></img>
      <label>
          <select id="choose-contamination" style="width: 4em" onchange="changed_c()">
              <option value="1">1</option>
              <option value="2" selected="selected">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
          </select>
          <i>c</i>, number of beads with color chosen at random.
      </label>
      <!--h3>Urn composition:</h3-->
      <table>
          <tr>
              <td></td>
              <td></td>
              <td>&nbsp;&nbsp;#&nbsp;&nbsp;</td>
              <td>&nbsp;&nbsp;#&nbsp;&nbsp;</td>
          </tr>
          <tr>
              <td></td>
              <td></td>
              <td><button class="button0"></button></td>
              <td><button class="button1"></button></td>
              <td>&nbsp;&nbsp;</td>
              <td><img class="diceimg" src="../image/dice.png" class="buttonr" id="randbtn0b0" onclick="rand_bead(0,0)"></img><span id="locks0" style="display:none">&nbsp;üîí&nbsp;</span></td>
              <td><img class="diceimg" src="../image/dice.png" class="buttonr" id="randbtn0b1" onclick="rand_bead(0,1)"></img><span id="locks1" style="display:none">&nbsp;üîí&nbsp;</span></td>
              <td><img class="diceimg" src="../image/dice.png" class="buttonr" id="randbtn0b2" onclick="rand_bead(0,2)"></img><span id="locks2" style="display:none">&nbsp;üîí&nbsp;</span></td>
              <td><img class="diceimg" src="../image/dice.png" class="buttonr" id="randbtn0b3" onclick="rand_bead(0,3)"></img><span id="locks3" style="display:none">&nbsp;üîí&nbsp;</span></td>
              <td>üîí</td>
              <td>üîí</td>
              <td>üîí</td>
              <td>üîí</td>
          </tr>
          <tr>
              <td><img class="diceimg" src="../image/dice.png" class="buttonr" onclick="rand_urn(0)"></img></td>
              <td>Urn 1<button class="btnManualUrn" style="background-color: #ffa500;color: #000000">‚ö±</button>:</td>
              <td id="num0in0"></td>
              <td id="num1in0"></td>
              <td></td>
              <td><button class="button0" id="btnu0b0" onclick="toggle_bead(0,0)"></button></td>
              <td><button class="button0" id="btnu0b1" onclick="toggle_bead(0,1)"></button></td>
              <td><button class="button0" id="btnu0b2" onclick="toggle_bead(0,2)"></button></td>
              <td><button class="button0" id="btnu0b3" onclick="toggle_bead(0,3)"></button></td>
              <td><button class="button0" disabled></button></td>
              <td><button class="button0" disabled></button></td>
              <td><button class="button0" disabled></button></td>
              <td><button class="button0" disabled></button></td>
              <td></td>
          </tr>
          <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td><img class="diceimg" src="../image/dice.png" class="buttonr" id="randbtn1b0" onclick="rand_bead(1,0)"></img></td>
              <td><img class="diceimg" src="../image/dice.png" class="buttonr" id="randbtn1b1" onclick="rand_bead(1,1)"></img></td>
              <td><img class="diceimg" src="../image/dice.png" class="buttonr" id="randbtn1b2" onclick="rand_bead(1,2)"></img></td>
              <td><img class="diceimg" src="../image/dice.png" class="buttonr" id="randbtn1b3" onclick="rand_bead(1,3)"></img></td>
              <td></td>
          </tr>
          <tr>
              <td><img class="diceimg" src="../image/dice.png" class="buttonr" onclick="rand_urn(1)"></img></td>
              <td>Urn 2<button class="btnManualUrn" style="background-color: #006400;color: #FFFFFF">‚ö±</button>:</td>
              <td id="num0in1"></td>
              <td id="num1in1"></td>
              <td></td>
              <td><button class="button1" id="btnu1b0" onclick="toggle_bead(1,0)"></button></td>
              <td><button class="button1" id="btnu1b1" onclick="toggle_bead(1,1)"></button></td>
              <td><button class="button1" id="btnu1b2" onclick="toggle_bead(1,2)"></button></td>
              <td><button class="button1" id="btnu1b3" onclick="toggle_bead(1,3)"></button></td>
              <td><button class="button1" disabled></button></td>
              <td><button class="button1" disabled></button></td>
              <td><button class="button1" disabled></button></td>
              <td><button class="button1" disabled></button></td>
          </tr>
      </table>
      <h3>Simulation Starting Point:</h3>
      <div>Enter starting data for urns:
        <button class="btnManualUrn" onclick="manual_entry(0, 0)" style="background-color: #ffa500;color: #000000">+‚ö±</button>
        <button class="btnManualUrn" onclick="manual_entry(0, 1)" style="background-color: #006400;color: #FFFFFF">+‚ö±</button>
        <button class="btnManualUrn" onclick="manual_entry(0, -1)" style="background-color: #AAAAAA;color: #FFFFFF" >-‚ö±</button>
      </div>
      <div id="manualurns"></div><br />
      <div>Enter starting data for urns:
        <label><button class="btnManualBead" onclick="manual_entry(1, 0)" style="background-color: #ffa500;color: #000000"></button><sub>+</sub></label>
        <label><button class="btnManualBead" onclick="manual_entry(1, 1)" style="background-color: #006400;color: #FFFFFF"></button><sub>+</sub></label>
        <label><button class="btnManualBead" onclick="manual_entry(1, -1)"style="background-color: #AAAAAA;color: #FFFFFF" ></button><sub>-</sub></label>
      </div>
      <div id="manualbeads"></div><br/>
      <!--button onclick="process_starting()" class="simpleButton">Process Starting Point</button-->
      <div class="numobs">
          <span># samples/click: </span>
          <br/>
          <span id="num-obs-slider"></span>
      </div>
      <h3><div>
          <span>Simulate:</span>
          &nbsp;&nbsp;&nbsp;<button class="simpleButton clearbtn">Clear</button>
          &nbsp;&nbsp;&nbsp;<span id="samplebtn"><button class="simpleButton simbtn">Draw next <span id="btn-num-obs"></span> sample(s)</button></span>
          <span id="errormessage" style="color: red"><br/></span>
      </div>
      <div><span>Simulated data (<i>n = </i></span> <span id="samplesize">0</span>):</div>
      <div class="drawcont"></div>
    </div>
  </div>
  <div class="column">
    <div class="inference">
      <h3>Inferential stats:</h3>
        <div id="model-choice-div"></div>
      <!--table>
          <tr><td><i>n - 1 = </i><span id="value-ntransitions">0</span></td>
              <td># observed transitions</td>
          </tr>
          <tr><td><i>n<sub>d</sub> = </i><span id="value-ndiffs">0</span></td>
              <td>number of color changes</td>
          </tr>
          <tr><td><i>n<sub>s</sub> = </i><span id="value-nsame">0</span></td>
              <td># adjacent samples with same color</td>
          </tr>
          <tr><td><i>≈ù = </i><span id="value-estimate-of-s">?</span></td>
              <td>estimate of the switch probability</td>
          </tr>
      </table>
      <p><b id="tracetitle">Ln Likelihood</b>
         <button id="logtransform">Move to probability scale</button>
      </p>
      <div id="likelihood-trace-div"></div-->
    </div>
  </div>


    <script src="../d3/d3.v5.min.js"></script>
    <script src="../d3-simple-slider/d3-simple-slider.js"></script>
    <script src="../jquery/jquery-3.4.1.js"></script>
    <script src="hmm.js"></script>
</body>


<div class="footer">
    <h4></h4>
    <p>Back to the demo <a href="../index.html">table of contents...</a></p>
    <p> Source code at <a href="https://github.com/mtholder/mephytis">https://github.com/mtholder/mephytis</a></p>

</div>
</html>